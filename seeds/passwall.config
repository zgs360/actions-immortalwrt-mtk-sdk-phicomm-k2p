# 基础目标配置（必须）
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_phicomm_k2p=y

# 禁用调试和开发选项
CONFIG_BINARY_DIR="/tmp"
CONFIG_BUILD_LOG=y
CONFIG_BUILD_LOG_DIR="/tmp"
CONFIG_DEVELOPER_MODE=n
CONFIG_IB=y
CONFIG_KERNEL_PRINTK=n
CONFIG_STRIP_ARGS="--strip-all -R .comment -R .note.gnu.gold-version -R .note -R .symtab -R .strtab"

# 禁用IPv6和冗余协议
# CONFIG_IPV6 is not set
# CONFIG_PACKAGE_ip6tables is not set
# CONFIG_PACKAGE_kmod-ip6tables is not set
# CONFIG_PACKAGE_odhcp6c is not set
# CONFIG_PACKAGE_odhcpd-ipv6only is not set

# 核心网络支持（仅保留Passwall必需项）
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_iptables-mod-tproxy=y
CONFIG_PACKAGE_kmod-ipt-tproxy=y
CONFIG_PACKAGE_libipset=y
CONFIG_PACKAGE_libmnl=y

# Passwall核心组件（仅保留Xray + 透明代理）
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray=y
CONFIG_PACKAGE_luci-app-passwall_Transparent_Proxy=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
CONFIG_PACKAGE_xray-core=y
CONFIG_XRAY_COMPRESS_GOPROXY=y  # 使用国内代理加速编译
CONFIG_XRAY_EXCLUDE_ASSETS=y    # 移除内置的geoip/geosite（需手动上传）

# 最小依赖库
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_libopenssl=y
CONFIG_PACKAGE_zlib=y

# 绝对必要工具
CONFIG_PACKAGE_coreutils-base64=y
CONFIG_PACKAGE_dns2socks=y
CONFIG_PACKAGE_resolveip=y
CONFIG_PACKAGE_tcping=y

# 精简内核模块（仅保留基础网络和加密）
CONFIG_PACKAGE_kmod-crypto-hash=y
CONFIG_PACKAGE_kmod-crypto-lib-chacha20poly1305=y
CONFIG_PACKAGE_kmod-ipt-core=y
CONFIG_PACKAGE_kmod-nf-conntrack=y
CONFIG_PACKAGE_kmod-nf-ipt=y
CONFIG_PACKAGE_kmod-nf-nat=y

# 强制移除冗余组件
# CONFIG_PACKAGE_6in4 is not set
# CONFIG_PACKAGE_chinadns-ng is not set
# CONFIG_PACKAGE_coreutils is not set
# CONFIG_PACKAGE_curl is not set
# CONFIG_PACKAGE_ddns-scripts is not set
# CONFIG_PACKAGE_dns2tcp is not set
# CONFIG_PACKAGE_etherwake is not set
# CONFIG_PACKAGE_ip-full is not set
# CONFIG_PACKAGE_ipt2socks is not set
# CONFIG_PACKAGE_kmod-tcp-bbr is not set
# CONFIG_PACKAGE_kmod-udptunnel* is not set
# CONFIG_PACKAGE_kmod-wireguard is not set
# CONFIG_PACKAGE_libbpf is not set
# CONFIG_PACKAGE_libcurl is not set
# CONFIG_PACKAGE_libelf is not set
# CONFIG_PACKAGE_librt is not set
# CONFIG_PACKAGE_libuuid is not set
# CONFIG_PACKAGE_luci-app-* (除passwall) are not set
# CONFIG_PACKAGE_luci-compat is not set
# CONFIG_PACKAGE_luci-proto-ipv6 is not set
# CONFIG_PACKAGE_luci-theme-atmaterial is not set
# CONFIG_PACKAGE_miniupnpd is not set
# CONFIG_PACKAGE_mtkiappd is not set
# CONFIG_PACKAGE_pdnsd-alt is not set
# CONFIG_PACKAGE_unzip is not set
# CONFIG_PACKAGE_vlmcsd is not set
# CONFIG_PACKAGE_wget-ssl is not set
# CONFIG_PACKAGE_wireguard-tools is not set
# CONFIG_PACKAGE_wol is not set
# CONFIG_PACKAGE_zram-swap is not set
